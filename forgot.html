<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Forgot Password - GearSneak</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    body{
      min-height:100vh;display:flex;align-items:center;justify-content:center;
      font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif;
      background: radial-gradient(1200px 600px at 10% 10%, rgba(255,31,107,0.04), transparent 6%),
                  radial-gradient(800px 400px at 90% 80%, rgba(16,163,189,0.04), transparent 6%),
                  linear-gradient(135deg,#06060a 0%, #081018 40%, #05050a 100%);
      color:#eef2f5;padding:28px;
    }

    .card{width:420px;max-width:92%;padding:28px;border-radius:14px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);box-shadow:0 12px 40px rgba(2,6,23,0.6);border:1px solid rgba(255,255,255,0.03)}

    .logo{display:flex;justify-content:center;margin-bottom:12px}
    h1{font-size:20px;text-align:center;margin-bottom:8px;color:#fff}
    p.lead{color:#cfd8da;text-align:center;margin-bottom:18px}

    .input{margin:12px 0}
    input[type="text"], input[type="email"]{width:100%;padding:12px 14px;border-radius:10px;border:none;background:rgba(10,12,16,0.6);color:#eef2f5;font-size:1rem}

    .meta{display:flex;justify-content:space-between;align-items:center;margin-top:10px}

    .btn{display:inline-block;padding:12px 18px;border-radius:10px;border:none;cursor:pointer;font-weight:700}
    .btn-ghost{background:transparent;color:#9bd6df}
    .btn-primary{background:linear-gradient(90deg,#ff2b6b 0%, #10a3bd 100%);color:#071018}

    .note{font-size:.92rem;color:#a9c7cc;margin-top:12px;text-align:center}

    .check{position:fixed;left:50%;top:50%;transform:translate(-50%,-50%) scale(.85);width:84px;height:84px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:linear-gradient(90deg,#ff2b6b,#10a3bd);box-shadow:0 12px 36px rgba(16,163,189,0.14);color:#071018;z-index:9999;opacity:0;transition:transform .24s ease,opacity .24s}
    .check.show{transform:translate(-50%,-50%) scale(1);opacity:1}

    .links{display:flex;justify-content:center;margin-top:14px;gap:14px}
    .links a{color:#9bd6df;text-decoration:none}

    @media (max-width:420px){.card{padding:20px}}
  </style>
</head>
<body>
  <main class="card" role="main" aria-labelledby="forgotTitle">
    <div class="logo" aria-hidden="true">
      <svg width="52" height="52" viewBox="0 0 64 64" aria-hidden="true">
        <defs><linearGradient id="g2" x1="0" x2="1"><stop offset="0" stop-color="#ff2b6b"/><stop offset="1" stop-color="#10a3bd"/></linearGradient></defs>
        <rect x="6" y="6" width="52" height="52" rx="12" fill="url(#g2)"/>
        <text x="50%" y="57%" text-anchor="middle" font-size="20" font-family="Orbitron,Arial" fill="#071018" font-weight="700">G</text>
      </svg>
    </div>

    <h1 id="forgotTitle">Reset your GearSneak password</h1>
    <p class="lead">Type your username or email below. We'll send a reset link if the account exists.</p>

    <form id="forgotForm" novalidate>
      <label class="sr-only" for="identity">Username or email</label>
      <div class="input"><input id="identity" name="identity" type="text" placeholder="Username or email" required></div>

      <div class="meta">
        <button type="button" id="cancelBtn" class="btn btn-ghost">Back to login</button>
        <button type="submit" class="btn btn-primary" id="sendBtn">Send Reset Link</button>
      </div>

      <p id="status" class="note" aria-live="polite"></p>
    </form>

    <div class="links">
      <a href="register.html">Create account</a>
      <a href="home.html">Return home</a>
    </div>
  </main>

  <script>
    const identity = document.getElementById('identity');
    const saved = localStorage.getItem('username') || localStorage.getItem('savedUsername');
    if(saved) identity.value = saved;

    document.getElementById('cancelBtn').addEventListener('click', ()=> location.href = 'login.html');

    const status = document.getElementById('status');

    function showCheck(cb){
      let el = document.querySelector('.check');
      if(!el){ el = document.createElement('div'); el.className='check'; el.innerHTML = '<svg width="40" height="40" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M20 6L9 17l-5-5" stroke="#071018" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/></svg>'; document.body.appendChild(el); }
      requestAnimationFrame(()=> el.classList.add('show'));
      setTimeout(()=>{ el.classList.remove('show'); if(cb) cb(); }, 900);
    }

    document.getElementById('forgotForm').addEventListener('submit', function(e){
      e.preventDefault();
      const v = identity.value.trim();
      if(!v){ status.textContent = 'Please enter your username or email.'; return; }

      status.textContent = 'Sending reset link...';
      document.getElementById('sendBtn').disabled = true;

      setTimeout(()=>{
        status.textContent = 'If an account exists for that identity, a reset link has been sent.';
        document.getElementById('sendBtn').disabled = false;
        showCheck();
      }, 900);
    });
  </script>
</body>
</html>
